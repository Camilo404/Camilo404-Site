<!-- Cursor Neko Animation -->
<app-neko></app-neko>

<!-- Background Ethereal Shadow -->
<div class="ethereal-background-container">
  <app-ethereal-shadow [sizing]="'fill'" [color]="'rgba(128, 128, 128, 1)'" [animation]="{ scale: 100, speed: 90 }"
  [noise]="{ opacity: 1, scale: 1.2 }" class="w-full h-full"></app-ethereal-shadow>
</div>

<main class="main-container" [class.has-floating-activity]="isActivityVisible()">
  <div class="bento-grid">

    <!-- Column Left: Profile -->
    <div class="bento-col-profile">
      <app-card-profile (nameplateAssetChange)="onNameplateAssetChange($event)"></app-card-profile>
    </div>

    <!-- Column Right: Widgets -->
    <div class="bento-col-widgets">

      <!-- Clock Widget -->
      <div class="anim-wrapper delay-1">
        <app-clock-widget [nameplateVideoUrl]="nameplateVideoUrl"></app-clock-widget>
      </div>

      <!-- Shadow Widget -->
      <div class="anim-wrapper delay-2">
        <app-shadow-widget></app-shadow-widget>
      </div>

      <!-- Social Connect Widget -->
      <div class="anim-wrapper delay-3">
        <app-social-widget></app-social-widget>
      </div>

      <!-- Tech Stack Infinite Marquee Widget -->
      <div class="anim-wrapper delay-4">
        <app-tech-stack-widget></app-tech-stack-widget>
      </div>

    </div>
  </div>
</main>

<!-- Search Button -->
<button class="floating-search-btn" (click)="openSearchModal()" title="Search Discord Profile">
  <fa-icon [icon]="faSearch" class="search-icon"></fa-icon>
  <span class="btn-text">Search Profile</span>
  <div class="btn-glow"></div>
</button>

<app-search-modal [isOpen]="isModalOpen()" (close)="closeSearchModal()" (search)="onSearchProfile($event)">
</app-search-modal>

<!-- Floating Spotify Activity -->
<app-floating-activity (visibilityChange)="onActivityVisibilityChange($event)"></app-floating-activity>
